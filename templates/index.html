{% extends 'base.html' %}

{% block content %}

<!-- Hero Section -->
<header class="hero-section text-white d-flex align-items-center" style="background: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.5)), url('{{ url_for('static', filename='images/hero-bg.png') }}') no-repeat center center; background-size: cover; min-height: 80vh;">
    <div class="container text-center">
        <div class="row justify-content-center">
            <div class="col-lg-10 col-xl-8">
                <h1 class="display-3 fw-bold mb-4">{{ _('Intelligent Trading. Automated.') }}</h1>
                <p class="lead mb-5">{{ _('Access a new generation of trading bots and analytical tools, or let our AI manage your portfolio.') }}</p>
                <!-- Call to Action Buttons -->
                <div>
                    <a href="{{ url_for('main.marketplace') }}" class="btn btn-primary btn-lg mx-2 my-1 px-5 py-3 fw-semibold">{{ _('Explore the Marketplace') }}</a>
                    <!-- Link redirects to plans section or signup -->
                    <a href="{{ url_for('main.plans') }}" class="btn btn-outline-light btn-lg mx-2 my-1 px-5 py-3 fw-semibold">{{ _('Start Investing') }}</a>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Investment Plans Section -->
<section class="py-5">
    <div class="container">
        <div class="row justify-content-center mb-5">
            <div class="col-lg-8 text-center">
                <h2 class="fw-bold">{{ _('Our Investment Plans') }}</h2>
                <p class="text-body-secondary" style="line-height: 1.6;">{{ _('Select a plan that matches your financial goals. Returns are annualized.') }}</p>
            </div>
        </div>

        <!-- Plans Grid -->
        <div class="row g-4 justify-content-center">
            <!-- Loop through available investment plans -->
            {% for plan in plans %}
            <div class="col-md-6 col-lg-4">
                <div class="card plan-card h-100 rounded-4 shadow-sm bg-dark-subtle border-0 position-relative" {% if loop.index == 2 %}style="transform: scale(1.05); z-index: 2; border: 1px solid #ffc107; box-shadow: 0 0 20px rgba(255, 193, 7, 0.2) !important;"{% endif %}>
                    
                    <!-- Risk Level Badge: Display a badge based on the plan's risk level -->
                    {% if plan.risk_level == 'low' %}
                        <div class="position-absolute top-0 end-0 m-3">
                            <span class="badge bg-success text-white fw-bold">{{ _('Low Risk') }}</span>
                        </div>
                    {% elif plan.risk_level == 'medium' %}
                        <div class="position-absolute top-0 end-0 m-3">
                            <span class="badge bg-warning-subtle text-warning-emphasis">{{ _('Medium Risk') }}</span>
                        </div>
                    {% else %}
                        <div class="position-absolute top-0 end-0 m-3">
                            <span class="badge bg-danger-subtle text-danger-emphasis">{{ _('High Risk') }}</span>
                        </div>
                    {% endif %}

                    <!-- Card Body with Plan Details -->
                    <div class="card-body p-4 d-flex flex-column">
                        <h3 class="fw-semibold">{{ plan.name }}</h3>
                        <p class="text-body-secondary mb-4" style="min-height: 48px;">{{ plan.description }}</p>
                        
                        <div class="mb-4">
                            <h1 class="fw-bold display-4 text-primary">{{ plan.annual_return_rate|int }}%</h1>
                            <h5 class="text-body-secondary">{{ _('Annual Return') }}</h5>
                            <h6 class="fw-normal text-white-50">{{ plan.duration_months }} {{ _('Months Duration') }}</h6>
                        </div>
                        
                        <div class="mt-auto">
                            <!-- Call to Action Button: Directs users to the signup page -->
                            <a href="{{ url_for('auth.signup') }}" class="btn {% if loop.index == 2 %}btn-warning fw-bold{% else %}btn-primary{% endif %} w-100 btn-lg">
                                {{ _('Choose Plan & Sign Up') }}
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Fallback message if no plans are available -->
            {% else %}
            <div class="col-12 text-center py-5">
                <h4 class="text-muted">{{ _('No investment plans available at the moment.') }}</h4>
            </div>
            {% endfor %}
        </div>

        <!-- More Plans Button -->
        {% if plans %}
        <div class="row mt-5">
            <div class="col-12 text-center">
                <a href="{{ url_for('main.plans') }}" class="btn btn-outline-secondary btn-lg px-5 rounded-pill">
                    {{ _('View More Plans') }} <i class="bi bi-arrow-right ms-2"></i>
                </a>
            </div>
        </div>
        {% endif %}

    </div>
</section>

<!-- Product Offering Section (Two Paths) -->
<section class="py-5 bg-dark-subtle text-body-emphasis">
    <div class="container">
        <div class="row g-4 align-items-stretch">
            <!-- Column 1: For Active Traders -->
            <div class="col-lg-6">
                <div class="card h-100 p-4 rounded-4 shadow-sm border-0">
                    <div class="card-body text-center">
                        <div class="mb-3">
                            <i class="bi bi-graph-up-arrow fs-1 text-primary"></i>
                        </div>
                        <h3 class="card-title fw-bold mb-4">{{ _('The Bot & Tool Marketplace') }}</h3>
                        <p class="card-text" style="line-height: 1.6;">{{ _('Browse, backtest, and deploy hundreds of bots from top developers. Or build your own strategies with our powerful, low-latency APIs.') }}</p>
                        <a href="{{ url_for('main.marketplace') }}" class="btn btn-outline-primary mt-3">{{ _('Go to Marketplace') }}</a>
                    </div>
                </div>
            </div>
            <!-- Column 2: For Passive Investors -->
            <div class="col-lg-6">
                <div class="card h-100 p-4 rounded-4 shadow-sm border-0">
                    <div class="card-body text-center">
                        <div class="mb-3">
                            <i class="bi bi-piggy-bank fs-1 text-success"></i>
                        </div>
                        <h3 class="card-title fw-bold mb-4">{{ _('VestHub Managed Portfolios') }}</h3>
                        <!-- FIX: Use double quotes to avoid conflict with "Don't" -->
                        <p class="card-text" style="line-height: 1.6;">{{ _("Don't have time to trade? Our top-performing AI bots will trade for you. We manage the risk, you track the returns.") }}</p>
                        <a href="{{ url_for('main.invest_learn') }}" class="btn btn-outline-light mt-3">{{ _('Learn About Investing') }}</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Trust Bar Section -->
<section class="py-5">
    <div class="container">
        <div class="row text-center g-4">
            <div class="col-md-4">
                <i class="bi bi-shield-lock trust-bar-icon"></i>
                <h4 class="fw-semibold">{{ _('Institutional-Grade Security') }}</h4>
                <p class="mb-0 text-secondary">{{ _('Bank-level encryption & cold storage.') }}</p>
            </div>
            <div class="col-md-4">
                <i class="bi bi-patch-check trust-bar-icon"></i>
                <h4 class="fw-semibold">{{ _('Rigorous Vetting') }}</h4>
                <p class="mb-0 text-secondary">{{ _('All marketplace bots are backtested & verified.') }}</p>
            </div>
            <div class="col-md-4">
                <i class="bi bi-bar-chart-line trust-bar-icon"></i>
                <h4 class="fw-semibold">{{ _('Full Transparency') }}</h4>
                <p class="mb-0 text-secondary">{{ _('Real-time performance dashboards.') }}</p>
            </div>
        </div>
    </div>
</section>

<!-- Core Features Section -->
<section class="performance-section">
    <div class="container">
        <h2 class="text-center fw-bold mb-5">{{ _('A Platform Built for Performance') }}</h2>
        <!-- Features Grid -->
        <div class="row g-4">
            <div class="col-md-6 col-lg-3">
                <div class="text-center">
                    <i class="bi bi-lightning-charge feature-icon"></i>
                    <h5 class="fw-semibold">{{ _('Blazing-Fast Backtesting') }}</h5>
                    <p class="text-secondary" style="line-height: 1.6;">{{ _('Test your strategies on years of data in seconds.') }}</p>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="text-center">
                    <i class="bi bi-robot feature-icon"></i>
                    <h5 class="fw-semibold">{{ _('AI-Powered Analytics') }}</h5>
                    <p class="text-secondary" style="line-height: 1.6;">{{ _('Use our proprietary tools to scan markets and find opportunities.') }}</p>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="text-center">
                    <i class="bi bi-hdd-network feature-icon"></i>
                    <h5 class="fw-semibold">{{ _('Multi-Exchange Connectivity') }}</h5>
                    <p class="text-secondary" style="line-height: 1.6;">{{ _('Connect all your exchange accounts in one secure place.') }}</p>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="text-center">
                    <i class="bi bi-code-slash feature-icon"></i>
                    <h5 class="fw-semibold">{{ _('Developer-Friendly API') }}</h5>
                    <p class="text-secondary" style="line-height: 1.6;">{{ _('Build, test, and deploy your own tools on our infrastructure.') }}</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Final Call to Action Section -->
<section class="py-5 bg-primary text-white text-center">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                    <h2 class="fw-bold mb-4">{{ _('Join the Future of Automated Trading.') }}</h2>
                <p class="lead mb-4">{{ _('Sign up for free and get access to your new trading dashboard.') }}</p>
                <a href="{{ url_for('auth.signup') }}" class="btn btn-light btn-lg fw-bold px-5">{{ _('Sign Up Free') }}</a>
            </div>
        </div>
    </div>
</section>

{% endblock %}